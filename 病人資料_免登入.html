<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>病人個人資料</title>
  <style>
    body {
      font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
      background-color: #f0f2f5;
      padding: 30px;
    }

    .profile-container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h2 {
      color: #2c3e50;
      border-bottom: 2px solid #3498db;
      padding-bottom: 5px;
      margin-bottom: 20px;
    }

    .info-group {
      margin-bottom: 20px;
    }

    .info-group label {
      font-weight: bold;
      color: #34495e;
    }

    .info-group p {
      margin: 4px 0 12px;
      color: #555;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    th, td {
      padding: 10px;
      border: 1px solid #ccc;
    }

    th {
      background-color: #f2f2f2;
    }
  </style>
</head>
<body>
  <div class="profile-container">
    <h2>病人基本資料</h2>

    <div class="info-group"><label>帳號：</label><p id="account"></p></div>
    <div class="info-group"><label>姓名：</label><p id="name"></p></div>
    <div class="info-group"><label>出生年月日：</label><p id="birthdate"></p></div>
    <div class="info-group"><label>手機號碼：</label><p id="phone"></p></div>
    <div class="info-group"><label>現居地址：</label><p id="current_address"></p></div>
    <div class="info-group"><label>戶籍地址：</label><p id="registered_address"></p></div>
    <div class="info-group"><label>緊急聯絡人：</label><p id="emergency_contact"></p></div>
    <div class="info-group"><label>過敏藥物：</label><p id="allergy_drugs"></p></div>
    <div class="info-group"><label>過敏食物：</label><p id="allergy_foods"></p></div>
    <div class="info-group"><label>過去病史：</label><p id="medical_history"></p></div>

    <h2>預約紀錄</h2>
    <table>
      <thead>
        <tr>
          <th>日期</th>
          <th>時段</th>
          <th>科別</th>
          <th>醫師</th>
        </tr>
      </thead>
      <tbody id="appointments">
        <!-- JavaScript 動態插入 -->
      </tbody>
    </table>
  </div>

  <script>
    // 檢查登入狀態


    // 假資料範例，可改為 fetch 後端資料
    const patientData = {
      account: account,
      name: "王小明",
      birthdate: "1990-05-20",
      phone: "0912345678",
      current_address: "台北市中山區南京東路三段100號",
      registered_address: "新北市板橋區文化路二段200號",
      emergency_contact: "王媽媽 0933222111",
      allergy_drugs: "青黴素",
      allergy_foods: "花生",
      medical_history: "氣喘、鼻過敏"
    };

    const appointmentRecords = [
      { date: "2025-06-10", time: "9:00-12:00", dept: "內科", doctor: "張育誠" },
      { date: "2025-06-15", time: "14:00-17:00", dept: "耳鼻喉科", doctor: "吳宛蓉" }
    ];

    // 顯示個人資料
    for (const key in patientData) {
      const element = document.getElementById(key);
      if (element) element.textContent = patientData[key];
    }

    // 顯示預約紀錄
    const tbody = document.getElementById("appointments");
    appointmentRecords.forEach(record => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${record.date}</td>
        <td>${record.time}</td>
        <td>${record.dept}</td>
        <td>${record.doctor}</td>
      `;
      tbody.appendChild(tr);
    });
  </script>
</body>
</html>
